{% extends 'master.html' %}

{% block body %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root{
      --g1: #aeff50;
      --g2: #53b800;
      --g3: #346d07;
      --g4: #143400;
    }

    body {
      background: linear-gradient(135deg, rgba(20,52,0,1) 0%, rgba(52,109,7,1) 40%, rgba(83,184,0,1) 70%, rgba(174,255,80,1) 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    .card-register{
      width: 100%;
      max-width: 420px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      overflow: hidden;
    }

    .card-header-custom{
      background: linear-gradient(90deg, var(--g4), var(--g3));
      color: var(--g1);
      padding: 1.25rem;
    }

    .brand {
      font-weight: 700;
      letter-spacing: 0.4px;
      font-size: 1.25rem;
    }

    .btn-primary-custom {
      background: linear-gradient(90deg, var(--g2), var(--g1));
      border: none;
      color: #072700;
      font-weight: 600;
    }
    .btn-primary-custom:focus, .btn-primary-custom:hover {
      filter: brightness(0.95);
      color: #051a00;
    }

    .form-control:focus {
      border-color: var(--g2);
      box-shadow: 0 0 0 0.2rem rgba(83,184,0,0.15);
    }

    .small-muted {
      color: rgba(255,255,255,0.9);
      font-size: .9rem;
    }

    a.login-link {
      color: #083000;
      font-weight: 600;
      text-decoration: none;
    }
    a.login-link:hover { text-decoration: underline; }
  </style>
</head>
<body class="mt-5 ">
  <div class="card card-register mt-5">
    <div class="card-header card-header-custom d-flex justify-content-between align-items-center">
      <div>
        <div class="brand">MySchool</div>
        <div class="small-muted">Create your account</div>
      </div>
      <div>
        <!-- small circle logo -->
        <div style="width:44px;height:44px;border-radius:50%;background:linear-gradient(90deg,var(--g1),var(--g2));box-shadow:0 4px 12px rgba(0,0,0,0.25)"></div>
      </div>
    </div>

    <div class="card-body p-4" style="background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.03)); color: #0b2a00;">
      <!-- Django: add csrf_token when using django view -->
      <form method="post" id="registerForm" novalidate>
        {% csrf_token %}

        <div class="mb-3">
          <label for="id_username" class="form-label">Username</label>
          <input type="text" class="form-control" id="id_username" name="username" required>
        </div>

        <div class="mb-3">
          <label for="id_name" class="form-label">Name</label>
          <input type="text" class="form-control" id="id_name" name="name" required>
        </div>

        <div class="mb-3">
          <label for="id_email" class="form-label">Email</label>
          <input type="email" class="form-control" id="id_email" name="email" required>
        </div>

        <div class="mb-3">
          <label for="id_password" class="form-label">Password</label>
          <input type="password" class="form-control" id="id_password" name="password" minlength="6" required>
        </div>

        <div class="mb-3">
          <label for="id_confirm_password" class="form-label">Confirm Password</label>
          <input type="password" class="form-control" id="id_confirm_password" name="confirm_password" minlength="6" required>
          <div id="pwHelp" class="form-text text-danger" style="display:none;">Passwords do not match</div>
        </div>

        <div class="d-grid mb-3">
          <button type="submit" class="btn btn-primary-custom btn-lg">Register</button>
        </div>

        <div class="text-center" style="font-size:.95rem;">
          <span>Already have an account? </span>
          <a href=" {% url 'loginPage' %} " class="login-link">Login</a>
        </div>
      </form>
    </div>

    <div class="card-footer text-center py-3" style="background: linear-gradient(90deg,var(--g3),var(--g4)); color: var(--g1);">
      <small>By registering you agree to our terms & privacy</small>
    </div>
  </div>

  <!-- Bootstrap JS bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Simple password match check -->
  <script>
    (function(){
      const form = document.getElementById('registerForm');
      const pw = document.getElementById('id_password');
      const pw2 = document.getElementById('id_confirm_password');
      const pwHelp = document.getElementById('pwHelp');

      form.addEventListener('submit', function(e){
        pwHelp.style.display = 'none';
        if (pw.value !== pw2.value) {
          e.preventDefault();
          pwHelp.style.display = 'block';
          pw2.focus();
        }
      });
    })();
  </script>
</body>
</html>

  
{% endblock body %}